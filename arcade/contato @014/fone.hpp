#pragma once
#include <iostream>


class Fone {
private:
    std::string id{"-"};
    std::string number{"-"};

    ///////////////////////////////////////////////////////////////////////////
    ///////////////Private Methods/////////////////////////////////////////////
    ///////////////////////////////////////////////////////////////////////////

    // Returns true if the number is in between these characters,
    // [0 1 2 3 4 5 6 7 8 9 ( ) .]
    static bool validate(std::string number) {
        for (auto& i : number) {
            if (!std::isdigit(i - 0)) {
                if (!(i == '(' || i == ')' || i == '.')) {
                    return false;
                }
            }
        }
        return true;
    }

public:
    ///////////////////////////////////////////////////////////////////////////
    ///////////////Constructor/////////////////////////////////////////////////
    ///////////////////////////////////////////////////////////////////////////

    // Initializes a number with it's id and the number itself
    Fone(std::string id = "-", std::string number = "-") {
        if (validate(number)) {
            this->id = id;
            this->number = number;
        } else {
            std::cout << "Invalid number!\n";
            return;
        }
    }

    ///////////////////////////////////////////////////////////////////////////
    ///////////////Methods/////////////////////////////////////////////////////
    ///////////////////////////////////////////////////////////////////////////

    // Returns true if it is a valid number
    bool isValid() {
        return validate(this->number);
    }

    ///////////////////////////////////////////////////////////////////////////
    ///////////////Get and Set Methods/////////////////////////////////////////
    ///////////////////////////////////////////////////////////////////////////

    std::string getId() {
        return this->id;
    }

    std::string getNumber() {
        return this->number;
    }

    void setId(std::string id) {
        this->id = id;
    }

    void setNumber(std::string number) {
        this->number = number;
    }

    ///////////////////////////////////////////////////////////////////////////
    ///////////////Print Methods///////////////////////////////////////////////
    ///////////////////////////////////////////////////////////////////////////

    friend std::ostream& operator<<(std::ostream& os, const Fone& fone) {
        os << fone.id << ":" << fone.number;
        return os;
    }
};